<!DOCTYPE html>
<html>
<head>
  <title>CPR Predictor</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <header>
    <img src="/static/logo.png" alt="AcquireUp Logo" style="height: 40px; vertical-align: middle;">
    <nav>
      <a href="/static/vor-form.html">ğŸ“ VOR</a>
      <a href="/static/market.html">ğŸ“Š Market Health</a>
      <a href="/static/predict.html">ğŸ“ˆ Predict CPR</a>
    </nav>
  </header>

  <main>
    <h2>ğŸ“ˆ CPR Projection Tool</h2>
    <form id="cprForm">
      <label>Impressions</label>
      <input type="number" name="impressions" value="10000"><br>

      <label>Reach</label>
      <input type="number" name="reach" value="8000"><br>

      <label>Facebook Registrants</label>
      <input type="number" name="fb_reg" value="50"><br>

      <label>Facebook Days Running</label>
      <input type="number" name="fb_days" value="7"><br>

      <button type="submit" class="green-btn">ğŸ“Š Predict CPR</button>
    </form>

    <div id="results" style="margin-top: 2rem;"></div>

    <script>
      document.getElementById("cprForm").addEventListener("submit", async function (e) {
        e.preventDefault();
        const form = e.target;
        const params = new URLSearchParams(new FormData(form)).toString();
        const res = await fetch(`/predict-cpr?${params}`);
        const data = await res.json();

        const output = `
          <h3>ğŸ“‹ Results:</h3>
          <p><strong>ğŸ“ˆ Projected 14-Day Registrants:</strong> ${data["14_day_projection_from_fb"]}</p>
          <p><strong>ğŸ’° Registrants per Impression:</strong> ${data["registrants_per_impression"]}</p>
          <p><strong>ğŸ“£ Registrants per Reach:</strong> ${data["registrants_per_reach"]}</p>
        `;
        document.getElementById("results").innerHTML = output;
      });
    </script>
  </main>
</body>
</html>


